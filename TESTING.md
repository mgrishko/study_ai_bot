# Тестування проекту

Проект включає набір тестів для перевірки функціонала:

## Структура тестів

```
tests/
├── __init__.py           # Ініціалізація тестового модулю
├── conftest.py           # Конфігурація pytest
├── test_database.py      # Тести роботи з БД
├── test_handlers.py      # Тести обробників команд
├── test_config.py        # Тести конфігурації
└── test_keyboards.py     # Тести клавіатур
```

## Встановлення залежностей для тестування

```bash
pip install -r requirements.txt
```

## Запуск тестів

### Запуск всіх тестів:
```bash
pytest
```

### Детальний вивід:
```bash
pytest -v
```

### Запуск конкретного файлу:
```bash
pytest tests/test_keyboards.py
```

### Запуск тільки async тестів:
```bash
pytest -m asyncio
```

### З показом покриття коду:
```bash
pytest --cov=. --cov-report=html
```

## Що тестується

### test_database.py
- ✅ Отримання всіх товарів
- ✅ Отримання товару за ID
- ✅ Обробка невірного ID
- ✅ Отримання категорій
- ✅ Отримання товарів за категорією
- ✅ Додавання користувача
- ✅ Створення замовлення
- ✅ Отримання замовлень користувача
- ✅ Оновлення статусу замовлення

### test_handlers.py
- ✅ Команда /start
- ✅ Команда /help
- ✅ Команда /info

### test_config.py
- ✅ Завантаження конфігурації
- ✅ Парсинг ADMIN_IDS
- ✅ Фільтр IsAdminFilter (адмін)
- ✅ Фільтр IsAdminFilter (не адмін)

### test_keyboards.py
- ✅ Клавіатура товарів
- ✅ Клавіатура замовлення
- ✅ Клавіатура деталей товару
- ✅ Клавіатура підтвердження замовлення
- ✅ Клавіатура "Мої замовлення"
- ✅ Головна клавіатура адміна
- ✅ Клавіатура замовлень адміна
- ✅ Клавіатура товарів адміна
- ✅ Клавіатура статусу замовлення

## Примітки

- Для запуску тестів БД потрібна PostgreSQL база даних
- Тести обробників та конфігурації не вимагають реальної БД
- Для детального тестування адміністраторських функцій додайте свій ID в ADMIN_IDS
